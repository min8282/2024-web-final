{% extends 'layout.html' %}

{% block content %}
<div class="mypage-container">
  <h1>{{ user.nick }}님의 마이페이지</h1>
  <div class="user-actions">
    <button onclick="location.href='/auth/edit'">내 정보 수정하기</button>
    <form id="delete-user-form" action="/auth/delete" method="post" style="display: inline;">
      <button type="submit">탈퇴하기</button>
    </form>
  </div>
  <hr>
  <h2>내가 작성한 게시글</h2>
  <div class="posts">
    {% for post in posts %}
      <div class="post-card">
        <a href="/post/{{ post.id }}">
          <img class="post-image" src="{{ post.imageUrl[0] }}" alt="{{ post.title }}">
          <div class="post-content">
            <h3>{{ post.title }}</h3>
            <p>{{ post.description }}</p>
          </div>
        </a>
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
